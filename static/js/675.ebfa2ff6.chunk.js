"use strict";(self.webpackChunkcinema_finder=self.webpackChunkcinema_finder||[]).push([[675],{1159:(e,t,r)=>{r.d(t,{A:()=>h});var o=r(5043),n=r(5721),a=r(4493),s=r(5865),l=r(1837),i=r(8569),c=r(3845),d=r(7392),p=r(7149),m=r(3682),u=r(579);const A=e=>{let{name:t,lat:r,lng:o,phoneNumber:n,distance:a,...s}=e;const A="number"===typeof r&&"number"===typeof o;return(0,u.jsxs)(l.Ay,{children:[(0,u.jsxs)(i.A,{children:[t,a&&(0,u.jsx)(c.A,{size:"small",sx:{ml:1},label:`${(0,m.GP)(",.1f")(a)} km`})]}),n&&(0,u.jsx)(d.A,{component:"a",href:`tel:${n}`,children:(0,u.jsx)(p.Cih,{})}),A&&(0,u.jsx)(d.A,{onClick:()=>((e,t)=>{"number"===typeof e&&"number"===typeof t?(console.log("triggering `map.snapTo` event with args: ",`lat: ${e}, lng: ${t}`),dispatchEvent(new CustomEvent("map.snapTo",{detail:{lat:e,lng:t}}))):console.warn("Cannot dispatch map.snapTo: lat or lng is undefined or invalid.",{lat:e,lng:t})})(r,o),children:(0,u.jsx)(p.Cud,{})})]})},h=e=>{let{cinemas:t,Header:r=null}=e;return(0,u.jsxs)(n.A,{sx:{maxHeight:"calc(100vh - 112px)",overflowY:"auto"},children:[r&&(0,u.jsx)(r,{cinemas:t}),r&&(0,u.jsx)(a.A,{}),0===t.length?(0,u.jsx)(s.A,{sx:{p:2,textAlign:"center",color:"text.secondary"},children:"No cinemas found."}):t.map((e,t)=>(0,o.createElement)(A,{...e,key:t}))]})}},5675:(e,t,r)=>{r.r(t),r.d(t,{default:()=>je});var o=r(5043),n=r(8168),a=r(8587),s=r(8387),l=r(3174),i=r(8812),c=r(8698),d=r(5527),p=r(579);const m=["className","component"];var u=r(9386),A=r(8194),h=r(3375),v=r(2532);const x=(0,v.A)("MuiBox",["root"]),f=(0,A.A)(),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r,defaultClassName:u="MuiBox-root",generateClassName:A}=e,h=(0,l.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(i.A);return o.forwardRef(function(e,o){const l=(0,d.A)(r),i=(0,c.A)(e),{className:v,component:x="div"}=i,f=(0,a.A)(i,m);return(0,p.jsx)(h,(0,n.A)({as:x,ref:o,className:(0,s.A)(v,A?A(u):u),theme:t&&l[t]||l},f))})}({themeId:h.A,defaultTheme:f,defaultClassName:x.root,generateClassName:u.A.generate}),y=g;var S=r(8610),j=r(3290),w=r(6803),b=r(8206),C=r(4535),k=r(2372);function M(e){return(0,k.Ay)("MuiCircularProgress",e)}(0,v.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const $=["className","color","disableShrink","size","style","thickness","value","variant"];let P,N,z,I,R=e=>e;const L=44,E=(0,j.i7)(P||(P=R`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),F=(0,j.i7)(N||(N=R`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),T=(0,C.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,w.A)(r.color)}`]]}})(e=>{let{ownerState:t,theme:r}=e;return(0,n.A)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,j.AH)(z||(z=R`
      animation: ${0} 1.4s linear infinite;
    `),E)}),H=(0,C.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),O=(0,C.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,w.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:r}=e;return(0,n.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,j.AH)(I||(I=R`
      animation: ${0} 1.4s ease-in-out infinite;
    `),F)}),B=o.forwardRef(function(e,t){const r=(0,b.b)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:i=!1,size:c=40,style:d,thickness:m=3.6,value:u=0,variant:A="indeterminate"}=r,h=(0,a.A)(r,$),v=(0,n.A)({},r,{color:l,disableShrink:i,size:c,thickness:m,value:u,variant:A}),x=(e=>{const{classes:t,variant:r,color:o,disableShrink:n}=e,a={root:["root",r,`color${(0,w.A)(o)}`],svg:["svg"],circle:["circle",`circle${(0,w.A)(r)}`,n&&"circleDisableShrink"]};return(0,S.A)(a,M,t)})(v),f={},g={},y={};if("determinate"===A){const e=2*Math.PI*((L-m)/2);f.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(u),f.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,g.transform="rotate(-90deg)"}return(0,p.jsx)(T,(0,n.A)({className:(0,s.A)(x.root,o),style:(0,n.A)({width:c,height:c},g,d),ownerState:v,ref:t,role:"progressbar"},y,h,{children:(0,p.jsx)(H,{className:x.svg,ownerState:v,viewBox:"22 22 44 44",children:(0,p.jsx)(O,{className:x.circle,style:f,ownerState:v,cx:L,cy:L,r:(L-m)/2,fill:"none",strokeWidth:m})})}))});var G=r(7266),W=r(3462),D=r(5006),V=r(6004),_=r(9523);const Y=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Z=["component","slots","slotProps"],q=["component"];function J(e,t){const{className:r,elementType:o,ownerState:s,externalForwardedProps:l,getSlotOwnerState:i,internalForwardedProps:c}=t,d=(0,a.A)(t,Y),{component:p,slots:m={[e]:void 0},slotProps:u={[e]:void 0}}=l,A=(0,a.A)(l,Z),h=m[e]||o,v=(0,V.A)(u[e],s),x=(0,_.A)((0,n.A)({className:r},d,{externalForwardedProps:"root"===e?A:void 0,externalSlotProps:v})),{props:{component:f},internalRef:g}=x,y=(0,a.A)(x.props,q),S=(0,W.A)(g,null==v?void 0:v.ref,t.ref),j=i?i(y):{},w=(0,n.A)({},s,j),b="root"===e?f||p:f,C=(0,D.A)(h,(0,n.A)({},"root"===e&&!p&&!m[e]&&c,"root"!==e&&!m[e]&&c,y,b&&{as:b},{ref:S}),w);return Object.keys(j).forEach(e=>{delete C[e]}),[h,C]}var K=r(3336);function Q(e){return(0,k.Ay)("MuiAlert",e)}const U=(0,v.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var X=r(7392),ee=r(6734);const te=(0,ee.A)((0,p.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),re=(0,ee.A)((0,p.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),oe=(0,ee.A)((0,p.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ne=(0,ee.A)((0,p.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ae=(0,ee.A)((0,p.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),se=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],le=(0,C.Ay)(K.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,w.A)(r.color||r.severity)}`]]}})(e=>{let{theme:t}=e;const r="light"===t.palette.mode?G.e$:G.a,o="light"===t.palette.mode?G.a:G.e$;return(0,n.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:r(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:o(t.palette[n].light,.9),[`& .${U.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:r(t.palette[o].light,.6),border:`1px solid ${(t.vars||t).palette[o].light}`,[`& .${U.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,n.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})}),ie=(0,C.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ce=(0,C.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),de=(0,C.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pe={success:(0,p.jsx)(te,{fontSize:"inherit"}),warning:(0,p.jsx)(re,{fontSize:"inherit"}),error:(0,p.jsx)(oe,{fontSize:"inherit"}),info:(0,p.jsx)(ne,{fontSize:"inherit"})},me=o.forwardRef(function(e,t){const r=(0,b.b)({props:e,name:"MuiAlert"}),{action:o,children:l,className:i,closeText:c="Close",color:d,components:m={},componentsProps:u={},icon:A,iconMapping:h=pe,onClose:v,role:x="alert",severity:f="success",slotProps:g={},slots:y={},variant:j="standard"}=r,C=(0,a.A)(r,se),k=(0,n.A)({},r,{color:d,severity:f,variant:j,colorSeverity:d||f}),M=(e=>{const{variant:t,color:r,severity:o,classes:n}=e,a={root:["root",`color${(0,w.A)(r||o)}`,`${t}${(0,w.A)(r||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,S.A)(a,Q,n)})(k),$={slots:(0,n.A)({closeButton:m.CloseButton,closeIcon:m.CloseIcon},y),slotProps:(0,n.A)({},u,g)},[P,N]=J("closeButton",{elementType:X.A,externalForwardedProps:$,ownerState:k}),[z,I]=J("closeIcon",{elementType:ae,externalForwardedProps:$,ownerState:k});return(0,p.jsxs)(le,(0,n.A)({role:x,elevation:0,ownerState:k,className:(0,s.A)(M.root,i),ref:t},C,{children:[!1!==A?(0,p.jsx)(ie,{ownerState:k,className:M.icon,children:A||h[f]||pe[f]}):null,(0,p.jsx)(ce,{ownerState:k,className:M.message,children:l}),null!=o?(0,p.jsx)(de,{ownerState:k,className:M.action,children:o}):null,null==o&&v?(0,p.jsx)(de,{ownerState:k,className:M.action,children:(0,p.jsx)(P,(0,n.A)({size:"small","aria-label":c,title:c,color:"inherit",onClick:v},N,{children:(0,p.jsx)(z,(0,n.A)({fontSize:"small"},I))}))}):null]}))});var ue=r(9980),Ae=r(1159),he=r(469),ve=r(8911),xe=r(5865),fe=r(3845),ge=r(7149),ye=r(2582);const Se=e=>{let{cinemas:t}=e;return(0,p.jsx)(he.A,{sx:{pb:2},children:(0,p.jsxs)(ve.A,{direction:"row",justifyContent:"space-between",children:[(0,p.jsx)(X.A,{component:ye.N_,to:"/",children:(0,p.jsx)(ge.cjW,{})}),(0,p.jsx)(xe.A,{sx:{alignSelf:"center",flex:1,textAlign:"center"},children:"Nearby Cinemas"}),t.length>0&&(0,p.jsx)(fe.A,{label:t.length})]})})},je=()=>{const{isGeolocationAvailable:e,isGeolocationEnabled:t,cinemas:r}=(0,ue.A)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ae.A,{cinemas:r,Header:Se}),e&&t&&0===r.length&&(0,p.jsx)(y,{sx:{textAlign:"center"},children:(0,p.jsx)(B,{})}),!e&&(0,p.jsx)(me,{severity:"error",children:"Your browser does not support Geolocation"}),!t&&(0,p.jsx)(me,{severity:"error",children:"Geolocation request was denied, or disabled."})]})}},9980:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(5043),n=r(4656),a=r(9604),s=r(4043),l=r(3536);const i=r(8677).A.map(e=>({...e,loc:(0,a.zx)([e.lng,e.lat])})),c=(0,l.memoize)((e,t)=>{const r=(0,a.zx)([t,e]);return(0,l.sortBy)(i.map(e=>({...e,distance:(0,s.A)(r,e.loc)})),"distance")}),d=()=>{const{coords:e,getPosition:t,isGeolocationAvailable:r,isGeolocationEnabled:a}=(0,n.L)();(0,o.useEffect)(()=>{a||t()},[]);const s=(0,o.useMemo)(()=>e?c(e.latitude,e.longitude).slice(0,15):[],[e]);return{isGeolocationAvailable:r,isGeolocationEnabled:a,coords:e,cinemas:s}}}}]);
//# sourceMappingURL=675.ebfa2ff6.chunk.js.map